(this["webpackJsonpproducts-search"]=this["webpackJsonpproducts-search"]||[]).push([[0],{136:function(e,t,a){e.exports=a(281)},141:function(e,t,a){},142:function(e,t,a){},144:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},281:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),l=a.n(r),o=(a(141),a(13)),s=(a(142),a(28)),u=a.n(s),i=(a(144),a(284)),m=function(e){var t=e.filter,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],s=r[1],u=Object(n.useState)(!1),m=Object(o.a)(u,2),d=m[0],f=m[1];return Object(n.useEffect)((function(){t({name:l,stocked:d})}),[d,l,t]),c.a.createElement("div",{className:"search-bar"},c.a.createElement(i.e,{type:"search",className:"search-input",leftIcon:"search",placeholder:"Search...",value:l,onChange:function(e){return s(e.target.value)}}),c.a.createElement(i.b,{checked:d,onChange:function(){return f(!d)}},"Only show products in stock"))},d=a(90),f=a.n(d),p=(a(261),a(262),function(e){return c.a.createElement("tr",null,c.a.createElement("th",{className:"category",colSpan:"100%"},e.name))}),b=(a(263),function(e){var t=e.product,a=t.name,n=t.price,r=t.stocked;return c.a.createElement("tr",null,c.a.createElement("td",{className:r?"":"red-color"},a),c.a.createElement("td",null,n))}),E=(a(264),a(1)),h=function(e){var t=e.isOpen,a=e.hideDialog,r=e.confirmDialog,l=Object(n.useState)(""),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),p=f[0],b=f[1],h=Object(n.useState)("1"),O=Object(o.a)(h,2),v=O[0],g=O[1],j=Object(n.useState)(!0),k=Object(o.a)(j,2),C=k[0],w=k[1],N=function(){m(""),b(""),g("1"),w(!0),a()};return c.a.createElement(i.c,{icon:"plus",title:"New Product",canOutsideClickClose:!1,isOpen:t,onClose:N},c.a.createElement("div",{className:E.a.DIALOG_BODY},c.a.createElement(i.d,{label:"Description",labelInfo:"(required)",labelFor:"text-input"},c.a.createElement(i.e,{className:"mb-10 w-220",placeholder:"Name",value:u,onChange:function(e){return m(e.target.value)}}),c.a.createElement(i.e,{className:"mb-10 w-220",placeholder:"Category",value:p,onChange:function(e){return b(e.target.value)}})),c.a.createElement(i.d,{label:"Price",labelInfo:"(required)",labelFor:"numeric-input"},c.a.createElement(i.f,{min:1,leftIcon:"dollar",value:v,onValueChange:function(e,t){return g(t)}})),c.a.createElement(i.h,{className:"w-220",large:!0,checked:C,label:"In stock",onChange:function(e){return w(e.target.checked)}})),c.a.createElement("div",{className:E.a.DIALOG_FOOTER},c.a.createElement("div",{className:E.a.DIALOG_FOOTER_ACTIONS},c.a.createElement(i.a,{onClick:N},"Close"),c.a.createElement(i.a,{intent:"success",onClick:function(){r({name:u,category:p,price:"$"+v,stocked:C}),N()},disabled:!(u&&p&&v>0)},"Confirm"))))},O=function(e){var t=e.products,a=e.addProduct,r=Object(n.useState)(!1),l=Object(o.a)(r,2),s=l[0],u=l[1];t=f()(t,(function(e){return e.category}));var m=Object(n.useCallback)((function(){u(!1)}),[]),d=Object(n.useCallback)((function(e){a(e)}),[a]);return c.a.createElement("div",null,c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-align-start"},"Name"),c.a.createElement("th",{className:"text-align-start"},"Price"))),Object.keys(t).map((function(e){return c.a.createElement("tbody",{key:e},c.a.createElement(p,{name:e,key:e}),t[e].map((function(e){return c.a.createElement(b,{product:e,key:e._id})})))}))),c.a.createElement(i.a,{className:"mt-8",icon:"add",text:"New",intent:"primary",onClick:function(){u(!0)}}),c.a.createElement(h,{isOpen:s,hideDialog:m,confirmDialog:d}))},v=a(11),g=i.i.create({position:v.a.TOP}),j={apiUrl:"https://products-search-api.herokuapp.com/api"},k=a(23),C=a.n(k),w=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),i=s[0],d=s[1];Object(n.useEffect)((function(){!function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(C.a.get("".concat(j.apiUrl,"/product")));case 2:e=t.sent,d(e.data),r(e.data);case 5:case"end":return t.stop()}}))}()}),[]);var f=Object(n.useCallback)((function(e){r(i.filter((function(t){return t.name.toLowerCase().includes(e.name.toLowerCase())&&(!e.stocked||t.stocked)})))}),[i]),p=Object(n.useCallback)((function(e){!function(){var t;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(C.a.post("".concat(j.apiUrl,"/product"),e));case 2:t=a.sent,d(i.concat([t.data])),g.show({message:"Successfully added ".concat(e.name),intent:"success",icon:"saved"});case 5:case"end":return a.stop()}}))}()}),[i]);return c.a.createElement("div",null,c.a.createElement(m,{filter:f}),c.a.createElement(O,{products:a,addProduct:p}))};var N=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return C.a.interceptors.request.use((function(e){return r(!0),e})),C.a.interceptors.response.use((function(e){return r(!1),e})),c.a.createElement("div",{className:"app"},c.a.createElement(w,null),c.a.createElement("div",null,a&&c.a.createElement(i.g,{className:"spinner",size:i.g.SIZE_LARGE})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[136,1,2]]]);
//# sourceMappingURL=main.85f66d5b.chunk.js.map